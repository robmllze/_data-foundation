//.title
// ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓
//
// GENERATED BY XYZ_GENIE
// See: https://github.com/robmllze/xyz_gen
//
// ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓
//.title~

import '/_common.dart';

part '_model_project_pub.g.dart';

// ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░

@GenerateModel(
  shouldInherit: true,
  fields: {
    ...PublicBaseModel.FIELDS,
    ('description?', String),
    ('primary_address?', ModelAddressEntry),
    ('other_addresses?', Set<ModelAddressEntry>),
    ('primary_email?', ModelEmailEntry),
    ('other_emails?', Set<ModelEmailEntry>),
    ('primary_phone?', ModelPhoneEntry),
    ('other_phones?', Set<ModelEmailEntry>),
    ('when_opened?', Map<String, DateTime>),
    ('when_closed?', Map<String, DateTime>),
  },
)
abstract class _ModelProjectPub extends PublicBaseModel<ModelProjectPub> {
  //
  //
  //

  // Opened.
  DateTime? get openedAt => getFirstDate(this.model.whenOpened?.values);
  String? get openedById =>
      this.model.whenOpened?.entries.firstWhereOrNull((e) => e.value == this.model.createdAt)?.key;
  bool get isOpened => this.model.whenOpened?.nullIfEmpty != null;
  bool isOpenedBy(String id) => this.model.whenOpened?.keys.contains(id) == true;

  // Closed.
  DateTime? get closedAt => getFirstDate(this.model.whenClosed?.values);
  String? get closedById =>
      this.model.whenClosed?.entries.firstWhereOrNull((e) => e.value == this.model.createdAt)?.key;
  bool isClosedBy(String id) => this.model.whenOpened?.keys.contains(id) == true;
}
